{
    "type": "DashboardV2SyncDefinition",
    "name": "Kubernetes Common Issues - Feb 5 2025",
    "description": "",
    "title": "Kubernetes Common Issues - Feb 5 2025",
    "theme": "Light",
    "topologyLabelMap": {
        "data": {}
    },
    "refreshInterval": 0,
    "timeRange": {
        "type": "BeginBoundedTimeRange",
        "from": {
            "type": "RelativeTimeRangeBoundary",
            "relativeTime": "-6h"
        },
        "to": null
    },
    "layout": {
        "layoutType": "Grid",
        "layoutStructures": [
            {
                "key": "panel9CDC3483AEE38A47",
                "structure": "{\"height\":2,\"width\":8,\"x\":0,\"y\":72}"
            },
            {
                "key": "panel115128DC97ECFA4A",
                "structure": "{\"height\":8,\"width\":8,\"x\":0,\"y\":74}"
            },
            {
                "key": "panel3F3357EB8B13BA4B",
                "structure": "{\"height\":2,\"width\":8,\"x\":8,\"y\":72}"
            },
            {
                "key": "panelF9282260ACD94843",
                "structure": "{\"height\":8,\"width\":8,\"x\":8,\"y\":74}"
            },
            {
                "key": "panel216AFAF6B7C3684A",
                "structure": "{\"height\":2,\"width\":8,\"x\":16,\"y\":72}"
            },
            {
                "key": "panelPANE-9B262A7889886B4D",
                "structure": "{\"height\":8,\"width\":8,\"x\":16,\"y\":74}"
            },
            {
                "key": "panelFE33DCA58A5BD849",
                "structure": "{\"height\":8,\"width\":8,\"x\":16,\"y\":8}"
            },
            {
                "key": "panel0EDBEB4291B11A4D",
                "structure": "{\"height\":7,\"width\":8,\"x\":0,\"y\":1}"
            },
            {
                "key": "panel655A86AA9545FA47",
                "structure": "{\"height\":7,\"width\":8,\"x\":8,\"y\":47}"
            },
            {
                "key": "panel50C6A09DB28F184A",
                "structure": "{\"height\":2,\"width\":24,\"x\":0,\"y\":82}"
            },
            {
                "key": "panelA1A21D6F83C65848",
                "structure": "{\"height\":7,\"width\":8,\"x\":0,\"y\":47}"
            },
            {
                "key": "panelPANE-FB11C2EB863B0A41",
                "structure": "{\"height\":10,\"width\":24,\"x\":0,\"y\":104}"
            },
            {
                "key": "panel062A4C4897511846",
                "structure": "{\"height\":2,\"width\":24,\"x\":0,\"y\":94}"
            },
            {
                "key": "panel65FB5ED99FDB184A",
                "structure": "{\"height\":8,\"width\":8,\"x\":0,\"y\":96}"
            },
            {
                "key": "panel9703BE1BA38BFB42",
                "structure": "{\"height\":8,\"width\":8,\"x\":8,\"y\":96}"
            },
            {
                "key": "panel779652E4B2EAF848",
                "structure": "{\"height\":8,\"width\":8,\"x\":16,\"y\":96}"
            },
            {
                "key": "panel777D83509DF10944",
                "structure": "{\"height\":2,\"width\":24,\"x\":0,\"y\":61}"
            },
            {
                "key": "panel2E4F3D6682B30A4C",
                "structure": "{\"height\":9,\"width\":8,\"x\":0,\"y\":63}"
            },
            {
                "key": "panel901BD7A7BAFACA47",
                "structure": "{\"height\":10,\"width\":16,\"x\":0,\"y\":84}"
            },
            {
                "key": "panel3330AAC1ACBB394A",
                "structure": "{\"height\":10,\"width\":8,\"x\":16,\"y\":84}"
            },
            {
                "key": "panel08B4F6BEB2A20843",
                "structure": "{\"height\":14,\"width\":8,\"x\":16,\"y\":33}"
            },
            {
                "key": "panelAA3A5C1AB87C6A49",
                "structure": "{\"height\":1,\"width\":24,\"x\":0,\"y\":24}"
            },
            {
                "key": "panel5578C701B63F3B45",
                "structure": "{\"height\":8,\"width\":6,\"x\":12,\"y\":25}"
            },
            {
                "key": "panelED147ECC8BE2FA45",
                "structure": "{\"height\":8,\"width\":8,\"x\":8,\"y\":8}"
            },
            {
                "key": "panelDE08E89C9AFD0A4E",
                "structure": "{\"height\":8,\"width\":24,\"x\":0,\"y\":16}"
            },
            {
                "key": "panelA8172990BC13DA40",
                "structure": "{\"height\":14,\"width\":8,\"x\":16,\"y\":47}"
            },
            {
                "key": "panel6C81DD2B86C42A4A",
                "structure": "{\"height\":8,\"width\":6,\"x\":18,\"y\":25}"
            },
            {
                "key": "panel7699AA8A9ABBFB40",
                "structure": "{\"height\":8,\"width\":8,\"x\":0,\"y\":8}"
            },
            {
                "key": "panel33EF3BCAA1C31A4E",
                "structure": "{\"height\":9,\"width\":16,\"x\":8,\"y\":63}"
            },
            {
                "key": "panel274D0DC3B5C47848",
                "structure": "{\"height\":7,\"width\":8,\"x\":8,\"y\":1}"
            },
            {
                "key": "panelE1EEF095BD884B46",
                "structure": "{\"height\":7,\"width\":8,\"x\":16,\"y\":1}"
            },
            {
                "key": "panel8C4F14259C4C8B46",
                "structure": "{\"height\":8,\"width\":6,\"x\":0,\"y\":25}"
            },
            {
                "key": "panelA565A7DC8DD03A4A",
                "structure": "{\"height\":8,\"width\":6,\"x\":6,\"y\":25}"
            },
            {
                "key": "panel0B56082CB0C8BB4D",
                "structure": "{\"height\":1,\"width\":24,\"x\":0,\"y\":0}"
            },
            {
                "key": "panel299F9AA09B53E844",
                "structure": "{\"height\":14,\"width\":8,\"x\":0,\"y\":33}"
            },
            {
                "key": "panel03EC7DF886D5C842",
                "structure": "{\"height\":14,\"width\":8,\"x\":8,\"y\":33}"
            }
        ]
    },
    "panels": [
        {
            "id": null,
            "key": "panel9CDC3483AEE38A47",
            "title": "DaemonSet Misscheduled",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": "A number of pods of daemonset are running where they are not supposed to run. [runbook](https://runbooks.prometheus-operator.dev/runbooks/kubernetes/kubedaemonsetmisscheduled/)\nmetric=kube_daemonset_status_number_misscheduled\n"
        },
        {
            "id": null,
            "key": "panel115128DC97ECFA4A",
            "title": "DaemonSet Misscheduled",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"general\":{\"type\":\"honeyComb\",\"displayType\":\"default\",\"roundDataPoints\":true,\"mode\":\"honeyComb\"},\"honeyComb\":{\"thresholds\":[{\"from\":null,\"to\":null,\"color\":\"#98ECA9\"},{\"from\":null,\"to\":null,\"color\":\"#F2DA73\"},{\"from\":null,\"to\":null,\"color\":\"#FFB5B5\"}],\"shape\":\"hexagon\",\"groupBy\":[],\"aggregationType\":\"latest\",\"noDataMessage\":\"\"},\"series\":{}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_daemonset_status_number_misscheduled job=kube-state-metrics | quantize {{quantize_interval}} using max| filter _value > 0 | sum by cluster",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel3F3357EB8B13BA4B",
            "title": "DaemonSet Not Scheduled",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": "A number of pods of daemonset are not scheduled. [runbook](https://runbooks.prometheus-operator.dev/runbooks/kubernetes/kubedaemonsetnotscheduled/)"
        },
        {
            "id": null,
            "key": "panelF9282260ACD94843",
            "title": "DaemonSet Not Scheduled (desired vs current do not match)",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":true,\"wrap\":true,\"shownStatistics\":[\"latest\",\"min\",\"max\"]},\"color\":{\"family\":\"Categorical Default\"},\"thresholdsSettings\":{\"type\":\"number\",\"showThresholds\":true,\"fillRemainingGreen\":true,\"numberThresholds\":{\"critical\":{\"display\":false,\"comparator\":\"greater\",\"value\":0},\"warning\":{\"display\":true,\"comparator\":\"greater\",\"value\":0}}},\"hiddenQueryKeys\":[\"A\",\"B\"],\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"visible\":false}},{\"series\":[],\"queries\":[\"B\"],\"properties\":{\"visible\":false}},{\"series\":[],\"queries\":[\"C\"],\"properties\":{\"name\":\"{{cluster}} {{daemonset}}\"}}],\"general\":{\"type\":\"line\",\"displayType\":\"default\",\"roundDataPoints\":true,\"markerSize\":5,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":1,\"mode\":\"timeSeries\"},\"series\":{}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_daemonset_status_desired_number_scheduled job=kube-state-metrics | quantize {{quantize_interval}} using max",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                },
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_daemonset_status_current_number_scheduled job=kube-state-metrics | quantize {{quantize_interval}} using max",
                    "queryType": "Metrics",
                    "queryKey": "B",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                },
                {
                    "transient": false,
                    "queryString": "#A - #B along daemonset, cluster | quantize {{quantize_interval}} | where _value > 0",
                    "queryType": "Metrics",
                    "queryKey": "C",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1d"
                },
                "to": null
            },
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel216AFAF6B7C3684A",
            "title": "Kube API Server Instance Count",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": "KubeAPI node count should be consistent in Prometheus. If instances are not discoverable scaling may be in progress or nodes down."
        },
        {
            "id": null,
            "key": "panelPANE-9B262A7889886B4D",
            "title": "Kube API Server Instance Changes - Unexpected Change Could Indicate API Server is Down",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"title\":\"\"}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{cluster}} \"}}],\"general\":{\"type\":\"line\",\"displayType\":\"default\",\"roundDataPoints\":true,\"markerSize\":5,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":1,\"mode\":\"timeSeries\"}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=up job=apiserver  | quantize {{quantize_interval}} using max | sum by cluster,instance | avg by cluster\n| delta ",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelFE33DCA58A5BD849",
            "title": "kube-state-metrics Clusters With Nodes Not Ready",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\"},\"overrides\":[]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_node_status_condition job=kube-state-metrics not condition=ready  status=true | quantize {{quantize_interval}} using max | filter max > 0 | max by cluster,condition,node | sum by cluster,condition",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel0EDBEB4291B11A4D",
            "title": "Node Count",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\",\"aggregationType\":\"max\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{cluster}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_node_status_condition status=true  | quantize {{quantize_interval}} using max | sum by node,cluster | count by cluster",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel655A86AA9545FA47",
            "title": "Abnormal Pod Terminated By Reason",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"minimum\":0}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"right\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\",\"aggregationType\":\"sum\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{reason}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_pod_container_status_terminated_reason not reason=completed | quantize {{quantize_interval}} using max | filter max > 0 | max by cluster,reason,pod | sum by reason",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel50C6A09DB28F184A",
            "title": "Kubernetes Event Based Views",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": "These panels show kubernetes events that could indicate problems. Bear in mind some warnings might be transient as cluster is converging on desired state."
        },
        {
            "id": null,
            "key": "panelA1A21D6F83C65848",
            "title": "Containers Waiting Abnormal Reasons",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12}},\"series\":{},\"general\":{\"type\":\"table\",\"displayType\":\"default\",\"roundDataPoints\":true,\"paginationPageSize\":100,\"fontSize\":12,\"mode\":\"distribution\",\"pivotBy\":[],\"sortBy\":\"_value\",\"aggregationType\":\"sum\",\"sortDir\":\"DESC\",\"decimals\":0}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_pod_container_status_waiting_reason not reason=containercreating not reason=podinitializing | quantize {{quantize_interval}} using max | filter _value >0 | max by namespace,reason ",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelPANE-FB11C2EB863B0A41",
            "title": "Kubelet Common Error Conditions Detailed",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12}},\"series\":{},\"general\":{\"type\":\"table\",\"displayType\":\"default\",\"roundDataPoints\":true,\"paginationPageSize\":100,\"fontSize\":12,\"mode\":\"distribution\"}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "_sourcecategory=*kubelet*  cluster={{cluster}} \n(\nCrashLoopBackOff\nor\nOOMKilled\nor\n(Error syncing pod) \nor (reason evicted) \nor (\"Failed to pull image\") \nor Failedattachvolume\nor FailedattachMount\nor FailedScheduling\nor \"MountVolume.SetUp failed\"\nor (configmap \"not found\") \nor (secret \"not found\") \nor NodeNotReady \nor HostPortConflict \nor \"Failed to pull image\"\nor ( (error failed) not \"when try to find container\")\n)\n| json field=_raw \"_HOSTNAME\" as hostname\n| json field=_raw \"MESSAGE\" | where message matches \"E*\" \n// key indicators\n| parse regex field=message \"(?i)(?<keyindicator>oomkilled|crashloopbackoff)\" nodrop\n| parse regex field=message \"^(?<level>[A-Z])+[0-9]+\\s+[0-9:\\.]+\\s+(?<threadid>[0-9]+)\\s+(?<file>[^\\s:]+):(?<lineno>[0-9]+)\\]\\s(?<event>.+)\" nodrop\n| parse regex field=event \"(?i)(?<type>Error syncing pod|oomkilled|CrashLoopBackOff|evicted|Failedattachvolume|FailedattachMount|FailedScheduling|Error: [^\\s]+ failed|configmap .+not found$|secret .+not found$|NodeNotReady|HostPortConflict|Failed to pull image)\" nodrop \n\n// strict\n| where !(isempty(type))\n\n// wider\n//| if(isempty(type),concat(\"others:\",substring(event,0,50)),type) as type\n| parse field=event \"\\\"StartContainer\\\" for \\\"*\\\" with\" as container nodrop\n| trim(concat(type,\" \",keyindicator,\" \",container)) as type\n\n//|  min(_messagetime) as starttime,max(_messagetime) as endtime,first(event) as example ,count by cluster,file,type,hostname \n| first(event) as example,values(hostname) as hosts,count as errors by cluster,file,type\n| sort type asc\n//| sum(_count) by type",
                    "queryType": "Logs",
                    "queryKey": "A",
                    "metricsQueryMode": null,
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel062A4C4897511846",
            "title": "Kubelet Events",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": "Well known error kubernetes events in Kubelet logs"
        },
        {
            "id": null,
            "key": "panel65FB5ED99FDB184A",
            "title": "Kubelet Common Error Conditions",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12}},\"series\":{},\"general\":{\"type\":\"pie\",\"displayType\":\"default\",\"roundDataPoints\":true,\"fillOpacity\":1,\"startAngle\":270,\"innerRadius\":\"30%\",\"maxNumOfSlices\":10,\"mode\":\"distribution\"}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "_sourcecategory=*kubelet*   cluster={{cluster}} \n(\nCrashLoopBackOff\nor\nOOMKilled\nor\n(Error syncing pod) \nor (reason evicted) \nor (\"Failed to pull image\") \nor Failedattachvolume\nor FailedattachMount\nor FailedScheduling\nor \"MountVolume.SetUp failed\"\nor (configmap \"not found\") \nor (secret \"not found\") \nor NodeNotReady \nor HostPortConflict \nor \"Failed to pull image\"\nor ( (error failed) not \"when try to find container\")\n)\n| json field=_raw \"_HOSTNAME\" as hostname\n| json field=_raw \"MESSAGE\" | where message matches \"E*\" \n// key indicators\n| parse regex field=message \"(?i)(?<keyindicator>oomkilled|crashloopbackoff)\" nodrop\n| parse regex field=message \"^(?<level>[A-Z])+[0-9]+\\s+[0-9:\\.]+\\s+(?<threadid>[0-9]+)\\s+(?<file>[^\\s:]+):(?<lineno>[0-9]+)\\]\\s(?<event>.+)\" nodrop\n| parse regex field=event \"(?i)(?<type>Error syncing pod|oomkilled|CrashLoopBackOff|evicted|Failedattachvolume|FailedattachMount|FailedScheduling|Error: [^\\s]+ failed|configmap .+not found$|secret .+not found$|NodeNotReady|HostPortConflict|Failed to pull image)\" nodrop \n\n// strict\n| where !(isempty(type))\n\n// wider\n//| if(isempty(type),concat(\"others:\",substring(event,0,50)),type) as type\n\n| trim(concat(type,\" \",keyindicator)) as type\n//|  min(_messagetime) as starttime,max(_messagetime) as endtime,first(event) as example ,count by cluster,file,type,hostname \n//| first(event) as example,values(hostname) as hosts,count as errors by cluster,file,type\n| sort type asc\n| count as errors by type | sort errors",
                    "queryType": "Logs",
                    "queryKey": "A",
                    "metricsQueryMode": null,
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel9703BE1BA38BFB42",
            "title": "Kubelet Common Error Conditions By Type",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\"},\"overrides\":[]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "_sourcecategory=*kubelet*  cluster={{cluster}} \n(\nCrashLoopBackOff\nor\nOOMKilled\nor\n(Error syncing pod) \nor (reason evicted) \nor (\"Failed to pull image\") \nor Failedattachvolume\nor FailedattachMount\nor FailedScheduling\nor \"MountVolume.SetUp failed\"\nor (configmap \"not found\") \nor (secret \"not found\") \nor NodeNotReady \nor HostPortConflict \nor \"Failed to pull image\"\nor ( (error failed) not \"when try to find container\")\n)\n| json field=_raw \"_HOSTNAME\" as hostname\n| json field=_raw \"MESSAGE\" | where message matches \"E*\" \n// key indicators\n| parse regex field=message \"(?i)(?<keyindicator>oomkilled|crashloopbackoff)\" nodrop\n| parse regex field=message \"^(?<level>[A-Z])+[0-9]+\\s+[0-9:\\.]+\\s+(?<threadid>[0-9]+)\\s+(?<file>[^\\s:]+):(?<lineno>[0-9]+)\\]\\s(?<event>.+)\" nodrop\n| parse regex field=event \"(?i)(?<type>Error syncing pod|oomkilled|CrashLoopBackOff|evicted|Failedattachvolume|FailedattachMount|FailedScheduling|Error: [^\\s]+ failed|configmap .+not found$|secret .+not found$|NodeNotReady|HostPortConflict|Failed to pull image)\" nodrop \n\n// strict\n| where !(isempty(type))\n\n// wider\n//| if(isempty(type),concat(\"others:\",substring(event,0,50)),type) as type\n\n| trim(concat(type,\" \",keyindicator)) as type\n//|  min(_messagetime) as starttime,max(_messagetime) as endtime,first(event) as example ,count by cluster,file,type,hostname \n//| first(event) as example,values(hostname) as hosts,count as errors by cluster,file,type\n| timeslice {{quantize_interval}} | count by _timeslice,type | transpose row _timeslice column type",
                    "queryType": "Logs",
                    "queryKey": "A",
                    "metricsQueryMode": null,
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel779652E4B2EAF848",
            "title": "Kubelet Common Error Conditions By Cluster",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\"},\"overrides\":[]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "_sourcecategory=*kubelet*  cluster={{cluster}} \n(\nCrashLoopBackOff\nor\nOOMKilled\nor\n(Error syncing pod) \nor (reason evicted) \nor (\"Failed to pull image\") \nor Failedattachvolume\nor FailedattachMount\nor FailedScheduling\nor \"MountVolume.SetUp failed\"\nor (configmap \"not found\") \nor (secret \"not found\") \nor NodeNotReady \nor HostPortConflict \nor \"Failed to pull image\"\nor ( (error failed) not \"when try to find container\")\n)\n| json field=_raw \"_HOSTNAME\" as hostname\n| json field=_raw \"MESSAGE\" | where message matches \"E*\" \n// key indicators\n| parse regex field=message \"(?i)(?<keyindicator>oomkilled|crashloopbackoff)\" nodrop\n| parse regex field=message \"^(?<level>[A-Z])+[0-9]+\\s+[0-9:\\.]+\\s+(?<threadid>[0-9]+)\\s+(?<file>[^\\s:]+):(?<lineno>[0-9]+)\\]\\s(?<event>.+)\" nodrop\n| parse regex field=event \"(?i)(?<type>Error syncing pod|oomkilled|CrashLoopBackOff|evicted|Failedattachvolume|FailedattachMount|FailedScheduling|Error: [^\\s]+ failed|configmap .+not found$|secret .+not found$|NodeNotReady|HostPortConflict|Failed to pull image)\" nodrop \n\n// strict\n| where !(isempty(type))\n\n// wider\n//| if(isempty(type),concat(\"others:\",substring(event,0,50)),type) as type\n\n| trim(concat(type,\" \",keyindicator)) as type\n//|  min(_messagetime) as starttime,max(_messagetime) as endtime,first(event) as example ,count by cluster,file,type,hostname \n//| first(event) as example,values(hostname) as hosts,count as errors by cluster,file,type\n| hostname as node\n| timeslice {{quantize_interval}} | count by _timeslice,cluster | transpose row _timeslice column cluster",
                    "queryType": "Logs",
                    "queryKey": "A",
                    "metricsQueryMode": null,
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel777D83509DF10944",
            "title": "Containers Frequently Restarting",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": "metric=kube_pod_container_status_restarts_total is a cumulative restart count so from this we can look for containers with high restart count (or possibly crash loops etc)"
        },
        {
            "id": null,
            "key": "panel2E4F3D6682B30A4C",
            "title": "Containers Restarting Count",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"minimum\":0}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\",\"aggregationType\":\"sum\"},\"overrides\":[]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_pod_container_status_restarts_total job=kube-state-metrics | quantize {{quantize_interval}} using max | delta increasing   | sum by container  | topk(100,sum)",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel901BD7A7BAFACA47",
            "title": "Kubernetes Events Not Normal State",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12}},\"series\":{},\"general\":{\"type\":\"table\",\"displayType\":\"default\",\"roundDataPoints\":true,\"paginationPageSize\":100,\"fontSize\":12,\"mode\":\"distribution\",\"pivotBy\":[],\"sortBy\":\"_value\",\"aggregationType\":\"sum\",\"sortDir\":\"DESC\",\"decimals\":0}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  _sourceCategory=*events \nnot \"\\\"type\\\":\\\"Normal\\\"\"\n// exclude any annoying messages here\ninvolvedObject\nnot \"Nameserver limits were exceeded\"\nnot \"Liveness probe failed\"\n| json field=_raw \"object.reason\" as reason\n| json field=_raw \"object.involvedObject.kind\" as type\n| json field=_raw \"object.involvedObject.name\" as name\n| json field=_raw \"object.type\" as level\n| json field=_raw \"object.message\" as message\n| json field=_raw \"object.metadata.namespace\" as namespace\n\n\n| values(cluster) as clusters,count by reason,type,level,message //name\n| sort _count",
                    "queryType": "Logs",
                    "queryKey": "A",
                    "metricsQueryMode": null,
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel3330AAC1ACBB394A",
            "title": "Kubernetes Events Not Normal State",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\"},\"overrides\":[]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "_sourceCategory=*events  cluster={{cluster}} \nnot \"\\\"type\\\":\\\"Normal\\\"\"\n// exclude any annoying messages here\ninvolvedObject\nnot \"Nameserver limits were exceeded\"\nnot \"Liveness probe failed\"\n| json field=_raw \"object.reason\" as reason\n//| json field=_raw \"object.involvedObject.kind\" as type\n//| json field=_raw \"object.involvedObject.name\" as name\n| json field=_raw \"object.type\" as level\n//| json field=_raw \"object.message\" as message\n//| json field=_raw \"object.metadata.namespace\" as namespace\n\n| concat(level,\"-\",reason) as event\n| timeslice {{quantize_interval}} \n| count by _timeslice,event | transpose row _timeslice column event",
                    "queryType": "Logs",
                    "queryKey": "A",
                    "metricsQueryMode": null,
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel08B4F6BEB2A20843",
            "title": "Unscheduleable Pods",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"horizontalAlign\":\"right\",\"maxWidth\":363,\"maxHeight\":343,\"fontFamily\":\"Roboto\",\"fontSize\":12,\"fontWeight\":\"normal\",\"showAsTable\":true,\"wrap\":true,\"shownStatistics\":[\"sum\"]},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{pod}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "metric=kube_pod_status_phase (phase=pending or phase=unknown or phase=failed) cluster={{cluster}} | quantize {{quantize_interval}} using max | where _value > 0\n|  sum by pod",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-6h"
                },
                "to": null
            },
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelAA3A5C1AB87C6A49",
            "title": "Pod Status",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": ""
        },
        {
            "id": null,
            "key": "panel5578C701B63F3B45",
            "title": "Top Pod CPU Usage Seconds",
            "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"line\",\"displayType\":\"default\",\"roundDataPoints\":true,\"markerSize\":5,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":1},\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":true,\"title\":\" \",\"unit\":{\"value\":\"s\",\"isCustom\":false}}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"right\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"thresholdsSettings\":{\"type\":\"number\",\"fillRemainingGreen\":true,\"showThresholds\":false,\"numberThresholds\":{\"warning\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":900},\"critical\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":1000}},\"rangeNumericThresholds\":[{\"color\":\"#B4D6EB\",\"value\":null,\"id\":0}],\"conditionalThresholds\":[{\"color\":\"#B4D6EB\",\"condition\":null,\"id\":0}],\"column\":\"\",\"formattingOption\":\"Numeric\",\"thresholdDisplay\":\"lineAndFillArea\",\"thresholdDisplayOption\":\"rowBackground\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{pod}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "cluster={{cluster}}  \nmetric=container_cpu_usage_seconds_total \n| quantize {{quantize_interval}} // using rate\n | rate counter | avg by container, pod \n| topk(50, sum) \n| avg by pod //| where _value > 800",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelED147ECC8BE2FA45",
            "title": "Top Node - Memory Usage %",
            "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"line\",\"displayType\":\"default\",\"roundDataPoints\":true,\"markerSize\":5,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":1},\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"title\":\" \",\"unit\":{\"value\":\"%100\",\"isCustom\":false},\"minimum\":0,\"maximum\":100}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"thresholdsSettings\":{\"type\":\"number\",\"fillRemainingGreen\":true,\"showThresholds\":true,\"numberThresholds\":{\"warning\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":80},\"critical\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":100}},\"rangeNumericThresholds\":[{\"color\":\"#B4D6EB\",\"value\":null,\"id\":0}],\"conditionalThresholds\":[{\"color\":\"#B4D6EB\",\"condition\":null,\"id\":0}],\"column\":\"\",\"formattingOption\":\"Numeric\",\"thresholdDisplay\":\"lineAndFillArea\",\"thresholdDisplayOption\":\"rowBackground\"},\"hiddenQueryKeys\":[\"D\",\"E\",\"A\",\"B\"],\"overrides\":[{\"series\":[],\"queries\":[\"C\"],\"properties\":{\"name\":\"{{cluster}}/{{node}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "metric=node_memory_MemTotal_bytes  cluster={{cluster}} |quantize {{quantize_interval}}  | avg by cluster, node",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                },
                {
                    "transient": false,
                    "queryString": "metric=container_memory_working_set_bytes cluster={{cluster}} node=* |quantize {{quantize_interval}}| sum by cluster, node | avg by cluster, node",
                    "queryType": "Metrics",
                    "queryKey": "B",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                },
                {
                    "transient": false,
                    "queryString": "((#B/#A) * 100) along cluster, node | quantize {{quantize_interval}}\n| topk({{top_n}},max)\n",
                    "queryType": "Metrics",
                    "queryKey": "C",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelDE08E89C9AFD0A4E",
            "title": "Node Scale Events",
            "visualSettings": "{\"general\":{\"mode\":\"table\",\"type\":\"table\",\"displayType\":\"default\",\"paginationPageSize\":100,\"decimals\":0,\"roundDataPoints\":true,\"fontSize\":12,\"pivotBy\":[],\"sortBy\":\"_value\",\"aggregationType\":\"sum\",\"sortDir\":\"DESC\"},\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12}},\"series\":{},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}} _sourceCategory=*events  *node*\n// not \"\\\"type\\\":\\\"Normal\\\"\"\n// exclude any annoying messages here\ninvolvedObject\n//node scal*\nnot \"Nameserver limits were exceeded\"\nnot \"Liveness probe failed\"\nnot FailedAttachVolume\nnot *hassufficient*\nnot *NodeHasNo*\nnot \"Node is not ready\"\n| json field=_raw \"object.reason\" as reason\n| json field=_raw \"object.message\" as message\n| where reason matches /(?i)node|scal/  or message matches /(?i)node[ \\.]/\n| json field=_raw \"object.involvedObject.kind\" as type\n| where !(type IN (\"pod\"))\n| json field=_raw \"object.involvedObject.name\" as name\n| json field=_raw \"object.type\" as level\n\n//| json field=_raw \"object.metadata.namespace\" as namespace\n\n| timeslice {{quantize_interval}}\n| count as events,min(_messagetime) as first, max(_messagetime) as last by cluster,reason,type,level,name,message\n| sort last | formatdate(tolong(last),\"yyyy-MM-dd HH:mm:ss\") as last| formatdate(tolong(first),\"yyyy-MM-dd HH:mm:ss\") as first",
                    "queryType": "Logs",
                    "queryKey": "A",
                    "metricsQueryMode": null,
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelA8172990BC13DA40",
            "title": "Top 10 Total Used CPU Seconds By Pod/Container",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12,\"labelPlacement\":\"inside\",\"labelWrap\":false,\"labelMaxWidth\":250,\"title\":\"container\"},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"title\":\"sum\",\"unit\":{\"value\":\"\",\"isCustom\":false}}},\"hiddenQueryKeys\":[\"D\",\"E\",\"B\"],\"series\":{},\"general\":{\"type\":\"bar\",\"displayType\":\"default\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"distribution\",\"sortBy\":\"_value\",\"sortDir\":\"DESC\",\"aggregationType\":\"sum\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{pod}}/{{container}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " metric=container_cpu_usage_seconds_total cluster={{cluster}} pod=* \n// quantize by max not avg \n//| quantize using  rate | topk(50,max) \n| quantize {{quantize_interval}} //using rate\n | rate counter | avg by container, pod \n| topk(10,sum) \n| sum by container, pod ",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel6C81DD2B86C42A4A",
            "title": "Memory Usage vs Limits - Top 50 Per container/pod/cluster/node",
            "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"line\",\"displayType\":\"default\",\"roundDataPoints\":true,\"markerSize\":5,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":1},\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"title\":\" \",\"unit\":{\"value\":\"%100\",\"isCustom\":false},\"minimum\":0,\"maximum\":105}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true,\"shownStatistics\":[\"latest\",\"min\",\"max\"]},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"thresholdsSettings\":{\"type\":\"number\",\"fillRemainingGreen\":true,\"showThresholds\":true,\"numberThresholds\":{\"warning\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":80},\"critical\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":100}},\"rangeNumericThresholds\":[{\"color\":\"#B4D6EB\",\"value\":null,\"id\":0}],\"conditionalThresholds\":[{\"color\":\"#B4D6EB\",\"condition\":null,\"id\":0}],\"column\":\"\",\"formattingOption\":\"Numeric\",\"thresholdDisplay\":\"lineAndFillArea\",\"thresholdDisplayOption\":\"rowBackground\"},\"hiddenQueryKeys\":[\"D\",\"E\",\"A\",\"B\"],\"overrides\":[{\"series\":[],\"queries\":[\"C\"],\"properties\":{\"name\":\"{{container}}/{{pod}}/{{cluster}}/{{node}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "metric=kube_pod_container_resource_limits resource=memory cluster=* pod=* node=*\n| quantize {{quantize_interval}} using max \n | avg by cluster, node, pod , container",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                },
                {
                    "transient": false,
                    "queryString": "metric=container_memory_working_set_bytes cluster=* pod=* node=*\n| quantize {{quantize_interval}} using avg \n| max by cluster, node, pod ,container",
                    "queryType": "Metrics",
                    "queryKey": "B",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                },
                {
                    "transient": false,
                    "queryString": "((#B/#A) * 100) along cluster, node, pod , container| quantize {{quantize_interval}} | topk({{top_n}},max)",
                    "queryType": "Metrics",
                    "queryKey": "C",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel7699AA8A9ABBFB40",
            "title": "CPU Usage % Top by Node, Cluster",
            "visualSettings": "{\"general\":{\"mode\":\"timeSeries\",\"type\":\"line\",\"displayType\":\"default\",\"roundDataPoints\":true,\"markerSize\":5,\"lineDashType\":\"solid\",\"markerType\":\"none\",\"lineThickness\":1},\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"title\":\" \",\"unit\":{\"value\":\"\",\"isCustom\":false},\"minimum\":0,\"maximum\":100}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"thresholdsSettings\":{\"type\":\"number\",\"fillRemainingGreen\":true,\"showThresholds\":true,\"numberThresholds\":{\"warning\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":900},\"critical\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":1000}},\"rangeNumericThresholds\":[{\"color\":\"#B4D6EB\",\"value\":null,\"id\":0}],\"conditionalThresholds\":[{\"color\":\"#B4D6EB\",\"condition\":null,\"id\":0}],\"column\":\"\",\"formattingOption\":\"Numeric\",\"thresholdDisplay\":\"lineAndFillArea\",\"thresholdDisplayOption\":\"rowBackground\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{cluster}}/{{node}}\"}}],\"hiddenQueryKeys\":[]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": "metric=node_cpu_seconds_total cluster={{cluster}} \n// there is one metric series per cluster and per cpu core. core count can be variable 8, 16, 32 etc\n\n// delta method\n// not mode=idle \n//| quantize using avg\n//| delta counter\n//| avg by cluster,node| eval 1 - _value | eval _value*100\n\n// inverted rate method\n// if you have a custom metric scrape interval (>60s for example) you need to choose larger quantize intervals or rate results might be strange -e.g 30s vs a 60s data interval will have no data points 50% of intervals.\nmode=idle | quantize {{quantize_interval}} using avg| rate | avg by node,cluster | eval 1 - _value |  eval _value*100 \n| topk({{top_n}}, avg) \n",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel33EF3BCAA1C31A4E",
            "title": "Containers - Top 20 Most Restarts",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12}},\"series\":{},\"general\":{\"type\":\"table\",\"displayType\":\"default\",\"roundDataPoints\":true,\"paginationPageSize\":100,\"fontSize\":12,\"mode\":\"distribution\",\"decimals\":0,\"aggregationType\":\"sum\"}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_pod_container_status_restarts_total job=kube-state-metrics \n| quantize {{quantize_interval}} using max | filter max > 0 | delta counter | sum by pod,container \n| topk(20,sum)  ",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel274D0DC3B5C47848",
            "title": "Node Status Conditions Latest",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12}},\"series\":{},\"general\":{\"type\":\"table\",\"displayType\":\"default\",\"roundDataPoints\":true,\"paginationPageSize\":100,\"fontSize\":12,\"mode\":\"distribution\",\"aggregationType\":\"latest\",\"sortBy\":\"_value\",\"sortDir\":\"DESC\"}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_node_status_condition  status=true | quantize {{quantize_interval}} using max drop last | filter Max > 0\n| sum by condition,status,cluster,node, provider | sum by condition",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-1h"
                },
                "to": null
            },
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelE1EEF095BD884B46",
            "title": "Nodes with Critical Conditions",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"title\":\"\"}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"right\",\"horizontalAlign\":\"right\",\"maxWidth\":375,\"maxHeight\":50,\"fontFamily\":\"Roboto\",\"fontSize\":12,\"fontWeight\":\"normal\",\"showAsTable\":false,\"wrap\":false,\"shownStatistics\":[\"sum\"]},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"default\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\",\"aggregationType\":\"max\"},\"overrides\":[]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_node_status_condition  status=true (condition=*Pressure or condition=NetworkUnavilable )\n | quantize {{quantize_interval}} using max | filter max > 0| sum by condition",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-6h"
                },
                "to": null
            },
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel8C4F14259C4C8B46",
            "title": "Pods Running By Namespace",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\",\"aggregationType\":\"max\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{namespace}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_pod_status_phase phase=Running | quantize {{quantize_interval}} | sum by namespace",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panelA565A7DC8DD03A4A",
            "title": "Pods Not Running By Phase",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false}},\"legend\":{\"enabled\":false,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":50,\"showAsTable\":false,\"wrap\":true},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\",\"aggregationType\":\"max\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{phase}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_pod_status_phase !phase=Running !phase=succeeded  | quantize {{quantize_interval}} | sum by phase ",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel0B56082CB0C8BB4D",
            "title": "Node Status",
            "visualSettings": "{\"general\":{\"mode\":\"TextPanel\",\"type\":\"text\",\"displayType\":\"default\",\"roundDataPoints\":true},\"title\":{\"fontSize\":14},\"text\":{\"format\":\"markdownV2\",\"fontSize\":12},\"series\":{},\"legend\":{\"enabled\":false}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "TextPanel",
            "text": ""
        },
        {
            "id": null,
            "key": "panel299F9AA09B53E844",
            "title": "Pods CrashLoopBackoff",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"title\":\" \",\"unit\":{\"value\":\"\",\"isCustom\":false}}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"fontSize\":12,\"maxHeight\":540,\"showAsTable\":true,\"wrap\":true,\"shownStatistics\":[\"sum\"]},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"thresholdsSettings\":{\"type\":\"number\",\"fillRemainingGreen\":true,\"showThresholds\":true,\"numberThresholds\":{\"warning\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":900},\"critical\":{\"display\":true,\"comparator\":\"greater_or_equal\",\"value\":1000}},\"rangeNumericThresholds\":[{\"color\":\"#B4D6EB\",\"value\":null,\"id\":0}],\"conditionalThresholds\":[{\"color\":\"#B4D6EB\",\"condition\":null,\"id\":0}],\"column\":\"\",\"formattingOption\":\"Numeric\",\"thresholdDisplay\":\"lineAndFillArea\",\"thresholdDisplayOption\":\"rowBackground\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{pod}}\"}}],\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\"}}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}} metric=kube_pod_container_status_waiting_reason reason=crashloopbackoff | quantize {{quantize_interval}} using max | filter max >0 | sum by pod",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": null,
            "coloringRules": null,
            "linkedDashboards": []
        },
        {
            "id": null,
            "key": "panel03EC7DF886D5C842",
            "title": "Abnormal Pod Terminated By Pod",
            "visualSettings": "{\"title\":{\"fontSize\":14},\"axes\":{\"axisX\":{\"titleFontSize\":12,\"labelFontSize\":12},\"axisY\":{\"titleFontSize\":12,\"labelFontSize\":12,\"logarithmic\":false,\"minimum\":0}},\"legend\":{\"enabled\":true,\"verticalAlign\":\"bottom\",\"horizontalAlign\":\"right\",\"maxWidth\":400,\"maxHeight\":540,\"fontFamily\":\"Roboto\",\"fontSize\":12,\"fontWeight\":\"normal\",\"showAsTable\":true,\"wrap\":true,\"shownStatistics\":[\"sum\"]},\"color\":{\"family\":\"Categorical Default\"},\"series\":{},\"general\":{\"type\":\"column\",\"displayType\":\"stacked\",\"roundDataPoints\":true,\"fillOpacity\":1,\"mode\":\"timeSeries\",\"aggregationType\":\"sum\"},\"overrides\":[{\"series\":[],\"queries\":[\"A\"],\"properties\":{\"name\":\"{{pod}}\"}}]}",
            "keepVisualSettingsConsistentWithParent": true,
            "panelType": "SumoSearchPanel",
            "queries": [
                {
                    "transient": false,
                    "queryString": " cluster={{cluster}}  metric=kube_pod_container_status_terminated_reason not reason=completed | quantize {{quantize_interval}} using max | filter max > 0 | max by cluster,reason,pod | sum by pod",
                    "queryType": "Metrics",
                    "queryKey": "A",
                    "metricsQueryMode": "Advanced",
                    "metricsQueryData": null,
                    "tracesQueryData": null,
                    "spansQueryData": null,
                    "parseMode": "Auto",
                    "timeSource": "Message",
                    "outputCardinalityLimit": 1000
                }
            ],
            "description": "",
            "timeRange": {
                "type": "BeginBoundedTimeRange",
                "from": {
                    "type": "RelativeTimeRangeBoundary",
                    "relativeTime": "-6h"
                },
                "to": null
            },
            "coloringRules": null,
            "linkedDashboards": []
        }
    ],
    "variables": [
        {
            "id": null,
            "name": "cluster",
            "displayName": "cluster",
            "defaultValue": "*",
            "sourceDefinition": {
                "variableSourceType": "MetadataVariableSourceDefinition",
                "filter": "_contenttype=prometheus",
                "key": "cluster"
            },
            "allowMultiSelect": false,
            "includeAllOption": true,
            "hideFromUI": false,
            "valueType": "Any"
        },
        {
            "id": null,
            "name": "top_n",
            "displayName": "top_n",
            "defaultValue": "50",
            "sourceDefinition": {
                "variableSourceType": "CsvVariableSourceDefinition",
                "values": "10,25,50,100"
            },
            "allowMultiSelect": false,
            "includeAllOption": true,
            "hideFromUI": false,
            "valueType": "Any"
        },
        {
            "id": null,
            "name": "quantize_interval",
            "displayName": "quantize_interval",
            "defaultValue": "5m",
            "sourceDefinition": {
                "variableSourceType": "CsvVariableSourceDefinition",
                "values": "30s,1m,5m,15m"
            },
            "allowMultiSelect": false,
            "includeAllOption": false,
            "hideFromUI": false,
            "valueType": "Any"
        }
    ],
    "coloringRules": []
}